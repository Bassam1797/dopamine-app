<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#222222">
<title>Dopamine Plan</title>
<link rel="manifest" href="manifest.json">
<link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <h1>Dopamine Plan</h1>
  <button id="darkToggle">🌙</button>
</header>

<main>
  <section id="controls">
    <label>Week:
      <select id="weekSel">
        <option value="auto">Auto</option>
        <option value="1">Week 1</option>
        <option value="2">Week 2</option>
        <option value="3">Week 3</option>
        <option value="4">Week 4</option>
      </select>
    </label>
    <label>Date: <input type="date" id="dateSel"></label>
    <button id="todayBtn">Today</button>
  </section>

  <section id="stats">
    <div>Streak: <span id="streak">0</span></div>
    <div>Day Score: <span id="score">0%</span></div>
    <div>Week Progress: <span id="weekProg">0%</span></div>
    <svg height="80" width="80">
      <circle id="ringDaily" cx="40" cy="40" r="35" stroke="green" stroke-width="6" fill="none" stroke-dasharray="0,100"/>
    </svg>
    <svg height="80" width="80">
      <circle id="ringWeek" cx="40" cy="40" r="35" stroke="blue" stroke-width="6" fill="none" stroke-dasharray="0,100"/>
    </svg>
  </section>

  <section id="actionsSection">
    <h2>Actions</h2>
    <div id="actions"></div>
    <h2>Rules</h2>
    <div id="rules"></div>
  </section>

  <section id="moodEnergy">
    <h3>Mood</h3>
    <div>
      <button data-mood="1">😔</button>
      <button data-mood="2">😐</button>
      <button data-mood="3">🙂</button>
      <button data-mood="4">😃</button>
      <button data-mood="5">🤩</button>
    </div>
    <h3>Energy</h3>
    <div>
      <button data-energy="1">💤</button>
      <button data-energy="2">😌</button>
      <button data-energy="3">🙂</button>
      <button data-energy="4">⚡</button>
      <button data-energy="5">🚀</button>
    </div>
    <p>Today: <span id="meNow">—</span></p>
  </section>

  <section id="journalSection">
    <h2>Journal</h2>
    <p id="journalPrompt"></p>
    <textarea id="journalBox" rows="5"></textarea>
    <div><small id="charCount">0</small> chars</div>
    <button id="clearJournal">Clear</button>
  </section>

  <section id="focusTimer">
    <h2>Focus Timer</h2>
    <button id="start25">25 min</button>
    <button id="start45">45 min</button>
    <button id="start60">60 min</button>
    <input id="startCustom" type="number" min="1" placeholder="Custom min">
    <button id="stopTimer">Stop</button>
    <div id="focusStatus"></div>
    <div id="focusCountdown"></div>
  </section>

  <section id="completion">
    <button id="completeBtn">Mark Day Complete</button>
  </section>

  <section id="badges">
    <h2>Badges</h2>
    <div id="badgesList"></div>
  </section>

  <section id="exportImport">
    <h2>Data</h2>
    <button id="exportBtn">Export JSON</button>
    <button id="exportCsvBtn">Export CSV</button>
    <input type="file" id="filePicker" hidden>
    <button id="importBtn">Import JSON</button>
  </section>
</main>

<footer>
  <p>Offline-first. All data stays on this device.</p>
</footer>

<script src="app.js"></script>
</body>
</html>
